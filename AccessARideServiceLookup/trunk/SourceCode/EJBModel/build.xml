<?xml version="1.0" encoding="UTF-8" ?>
<!--Ant buildfile generated by Oracle JDeveloper-->
<!--Generated Jan 9, 2018 12:49:33 PM-->
<project xmlns="antlib:org.apache.tools.ant" name="EJBModel" default="all" basedir=".">
    <property file="build.properties"/>
    <tstamp>
        <format property="build_date" pattern="MM-dd-yyyy" locale="en,US"/>
        <format property="build_time" pattern="HH:mm:ss zzz" locale="en,US"/>
    </tstamp>
    <path id="library.Java.EE">
        <pathelement location="${oracle.commons}/modules/javax.annotation.javax.annotation-api.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.ejb.javax.ejb-api.jar"/>
        <pathelement location="${install.dir}/wlserver/modules/javax.enterprise.deploy.deployment-api.jar"/>
        <pathelement location="${install.dir}/wlserver/modules/javax.interceptor.javax.interceptor-api.jar"/>
        <pathelement location="${install.dir}/wlserver/modules/javax.enterprise.cdi-api.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.inject.javax.inject.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.jms.javax.jms-api.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.servlet.jsp.javax.servlet.jsp-api.jar"/>
        <pathelement location="${oracle.commons}/modules/org.glassfish.javax.el.jar"/>
        <pathelement location="${oracle.commons}/modules/com.sun.mail.javax.mail.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.management.j2ee.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.persistence.jar"/>
        <pathelement location="${install.dir}/wlserver/modules/javax.resource.javax.resource-api.jar"/>
        <pathelement location="${install.dir}/wlserver/modules/javax.security.jacc.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.servlet.javax.servlet-api.jar"/>
        <pathelement location="${install.dir}/wlserver/modules/javax.transaction.javax.transaction-api.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.validation.jar"/>
        <pathelement location="${oracle.commons}/modules/javax.xml.jaxrpc-api.jar"/>
    </path>
    <path id="library.EJB">
        <pathelement location="${oracle.commons}/modules/javax.ejb.javax.ejb-api.jar"/>
    </path>
    <path id="library.Oracle.XML.Parser.v2">
        <pathelement location="${oracle.commons}/modules/oracle.xdk/xmlparserv2.jar"/>
        <pathelement location="${oracle.commons}/modules/oracle.xdk/xml.jar"/>
        <pathelement location="${oracle.commons}/modules/oracle.nlsrtl/orai18n-mapping.jar"/>
    </path>
    <path id="library.WebLogic.12.1.Thin-Client">
        <pathelement location="${install.dir}/wlserver/server/lib/wlclient.jar"/>
        <pathelement location="${install.dir}/wlserver/server/lib/wljmxclient.jar"/>
        <pathelement location="${install.dir}/wlserver/server/lib/wljmsclient.jar"/>
        <pathelement location="${install.dir}/wlserver/server/lib/wlnmclient.jar"/>
        <pathelement location="${install.dir}/wlserver/server/lib/wlsafclient.jar"/>
    </path>
    <path id="library.Geocoder.jar">
        <pathelement location="../lib/geocoder.jar"/>
    </path>
    <path id="library.District.jar">
        <pathelement location="../lib/district.jar"/>
    </path>
    <path id="library.Gson-2.7.jar">
        <pathelement location="../lib/gson-2.7.jar"/>
    </path>
    <path id="Logging.jar">
        <pathelement location="../lib/log4j-1.2.15.jar"/>
        <pathelement location="../lib/spring.jar"/>
    </path>
    <path id="classpath">
        <path refid="library.Java.EE"/>
        <path refid="library.EJB"/>
        <path refid="library.Oracle.XML.Parser.v2"/>
        <path refid="library.WebLogic.12.1.Thin-Client"/>
        <path refid="library.Geocoder.jar"/>
        <path refid="library.District.jar"/>
        <path refid="library.Gson-2.7.jar"/>
        <path refid="Logging.jar"/>
    </path>
    <target name="init">
        <tstamp/>
        <mkdir dir="${build.dir}"/>
    </target>
    <target name="all" description="Build the project" depends="clean,compile,copy,jar"/>
    <target name="clean" description="Clean the project">
        <delete includeemptydirs="true" quiet="true">
            <fileset dir="${build.dir}" includes="**/*"/>
            <fileset dir="${dist.dir}" includes="**/*"/>
            <fileset dir="${classes.dir}" includes="**/*"/>
        </delete>
    </target>
    <target name="compile" description="Compile Java source files" depends="init">
         <echo>Compiling with debug=${javac.debug}</echo>
        <javac destdir="${build.dir}" classpathref="classpath" debug="${javac.debug}" nowarn="${javac.nowarn}" 
               deprecation="${javac.deprecation}" encoding="UTF-8" source="${javac.source}"
               includeantruntime="false" target="${javac.target}">
            <src path="src"/>
        </javac>
    </target>
    <target name="copy" description="Copy files to output directory" depends="init">
        <patternset id="copy.patterns">
            <include name="**/*.cpx"/>
            <include name="**/*.dcx"/>
            <include name="**/*.ejx"/>
            <include name="**/*.gif"/>
            <include name="**/*.ini"/>
            <include name="**/*.jpeg"/>
            <include name="**/*.jpg"/>
            <include name="**/*.png"/>
            <include name="**/*.properties"/>
            <include name="**/*.sva"/>
            <include name="**/*.tag"/>
            <include name="**/*.tld"/>
            <include name="**/*.wsdl"/>
            <include name="**/*.xcfg"/>
            <include name="**/*.xlf"/>
            <include name="**/*.xml"/>
            <include name="**/*.xsd"/>
            <include name="**/*.xsl"/>
            <exclude name="build.xml"/>
            <exclude name="build.properties"/>
            <exclude name="package-info.class"/>
        </patternset>
        <copy todir="${build.dir}">
            <fileset dir="src">
                <patternset refid="copy.patterns"/>
            </fileset>
        </copy>
        <echo>Setting values in log4j.xml...  log_basedir:${log.basedir}, application_name:${project.name}, log_level:${log.level}</echo>
        <copy file="${basedir}/../RESTServices/public_html/WEB-INF/classes/log4j.xml" tofile="${build.dir}/log4j.xml"
              overwrite="true">
            <filterset>
                <filter token="log_basedir" value="${log.basedir}"/>
                <filter token="application_name" value="${project.name}"/>
                <filter token="log_level" value="${log.level}"/>
            </filterset>
        </copy>
        <echo>Setting value in properties.xml...  adaRestSvcURL:${ada.url}}</echo>
        <copy file="${basedir}/../RESTServices/public_html/WEB-INF/classes/properties.xml" tofile="${build.dir}/properties.xml"
              overwrite="true">
            <filterset>
                <filter token="ada_url" value="${ada.url}"/>
            </filterset>
        </copy>
    </target>
    <!-- 
        Create JAR file 
        -->
    <target name="jar" depends="compile">
        <echo>Building the jar file...</echo>
        <manifest file="${build.dir}/META-INF/MANIFEST.MF">
            <attribute name="Built-By" value="${user.name}"/>
            <attribute name="Build-Date" value="${build_date}"/>
            <attribute name="Build-Time" value="${build_time}"/>
        </manifest>
        <jar destfile="${dist.dir}/EJBModel.jar" manifest="${build.dir}/META-INF/MANIFEST.MF">
            <fileset dir="${build.dir}">
                <include name="com/rtddenver/**"/>
                <include name="META-INF/**"/>
                <include name="log4j.xml"/>
                <include name="properties.xml"/>
            </fileset>
        </jar>
    </target>
</project>
